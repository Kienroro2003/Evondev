<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Xây dựng lớp mô tả điện thoại.</title>
  </head>
  <body>
    <script>
      class Mobile {
        constructor(
          pin,
          status,
          // , draftingMessage, messageComes, messageSent
          mobile = null
        ) {
          this.pin = pin;
          this.draftingMessage = ""; // tin nhan soan thao
          this.messageComes = []; //tin nhan den
          this.messageSent = []; // tin nhan da gui
          this.status = status;
          this.mobile = mobile;
        }

        setMo

        checkStatus(status) {
          if (status) {
            document.write("Dien thoai dang bat");
            this.pin--;
          } else {
            document.write("Dien thoai dang tat");
          }
        }

        charge() {
          if (this.pin == 100) {
            document.write("Dien thoai da day");
          } else {
            document.write("Dien thoai dang sac " + this.pin++);
          }
        }

        writeMessage() {
          if (pin > 0) {
            this.draftingMessage = prompt("Nhap tin nhan: ");
            this.messageSent.push(this.draftingMessage);
            this.mobile.messageComes.push(this.draftingMessage);
            this.pin--;
          } else {
            alert("Het pin roi");
          }
        }
        seeMessageCome() {
          let message = "";
          for (let m in this.messageComes) {
            message += m;
            message += "\n";
          }
          alert(message);
        }
      }

      let iphone = new Mobile(100, true);
      let android = new Mobile(100, true);
      iphone.writeMessage();
      android.seeMessageCome();
    </script>
  </body>
</html>
